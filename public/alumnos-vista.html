<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Alumnos</title>
    <link rel="stylesheet" href="../build/css/app.css" />
</head>

<body class="app">
    <header class="app__header" role="banner">
        <div class="logo" aria-hidden="true">logo</div>
    </header>

    <main class="app__main alumnos-page" role="main">
        <!-- filtros de texto -->
        <section class="filtros">
            <div class="filtros__campo">
                <label class="sr-only" for="f-matricula">Matrícula</label>
                <input id="f-matricula" class="input--texto" type="text" placeholder="matrícula" />
            </div>

            <div class="filtros__campo">
                <label class="sr-only" for="f-nombre">Nombre</label>
                <input id="f-nombre" class="input--texto input--grande" type="text" placeholder="nombre" />
            </div>

            <div class="filtros__selects">
                <div class="select-wrap">
                    <label class="sr-only" for="f-grado">Grado</label>
                    <select id="f-grado" class="select">
                        <option value="">grado</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                    </select>
                </div>

                <div class="select-wrap">
                    <label class="sr-only" for="f-grupo">Grupo</label>
                    <select id="f-grupo" class="select">
                        <option value="">grupo</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                    </select>
                </div>
            </div>
        </section>

        <!-- lista de alumnos: ejemplos con bordes de colores según reportes -->
        <section class="lista-alumnos" aria-live="polite">
            <!-- tarjeta alumno: 3 ejemplos -->
            <article class="alumno-card reportes-alto" data-reportes="5" tabindex="0">
                <div class="alumno-info">
                    <div class="alumno-nombre">Genaro Rosales Carrasco</div>
                    <div class="alumno-meta">Matrícula: 2021001 &nbsp;•&nbsp; Grado: 3 &nbsp;•&nbsp; Grupo: A</div>
                </div>
                <div class="acciones">
                    <button class="btn btn--small">reportes</button>
                    <!-- <button class="btn btn--small">reportar</button> -->
                    <a href="alumno-vista.html" class="btn btn--small">reportar</a>
                </div>
            </article>

            <article class="alumno-card reportes-medio" data-reportes="2" tabindex="0">
                <div class="alumno-info">
                    <div class="alumno-nombre">Nombre 2</div>
                    <div class="alumno-meta">Matrícula: 2021023 &nbsp;•&nbsp; Grado: 2 &nbsp;•&nbsp; Grupo: B</div>
                </div>
                <div class="acciones">
                    <button class="btn btn--small">reportes</button>
                    <button class="btn btn--small">reportar</button>
                </div>
            </article>

            <article class="alumno-card reportes-bajo" data-reportes="0" tabindex="0">
                <div class="alumno-info">
                    <div class="alumno-nombre">Nombre 3</div>
                    <div class="alumno-meta">Matrícula: 2021056 &nbsp;•&nbsp; Grado: 1 &nbsp;•&nbsp; Grupo: A</div>
                </div>
                <div class="acciones">
                    <button class="btn btn--small">reportes</button>
                    <button class="btn btn--small">reportar</button>
                </div>
            </article>
        </section>

        <!-- botón salir fijo abajo izquierda -->
        <!-- <button class="btn btn--exit" id="btn-salir" type="button" aria-label="Salir">salir</button> -->
        <a href="prefectos.html" class="btn btn--exit boton-salir">salir</a>

    </main>

    <!-- Script mínimo para toggle acciones al pulsar la tarjeta -->
    <script>
        document.addEventListener('click', function (e) {
            // si se hace click en una tarjeta o dentro de ella, alterna la clase 'activo'
            const card = e.target.closest('.alumno-card');
            if (card) {
                // cerrar otras tarjetas abiertas
                document.querySelectorAll('.alumno-card.activo').forEach(c => {
                    if (c !== card) c.classList.remove('activo');
                });
                card.classList.toggle('activo');
                return;
            }

            // click fuera: cerrar todas
            if (!e.target.closest('.alumno-card')) {
                document.querySelectorAll('.alumno-card.activo').forEach(c => c.classList.remove('activo'));
            }
        });

        // abrir/activar con teclado (Enter)
        document.querySelectorAll('.alumno-card').forEach(card => {
            card.addEventListener('keydown', (ev) => {
                if (ev.key === 'Enter' || ev.key === ' ') {
                    ev.preventDefault();
                    card.classList.toggle('activo');
                }
            });
        });
    </script>
</body>

</html>