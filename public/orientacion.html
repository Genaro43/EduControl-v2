<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Orientación</title>
    <link rel="stylesheet" href="../build/css/app.css" />
</head>

<body class="app">
    <header class="app__header" role="banner">
        <div class="logo" aria-hidden="true">logo</div>
    </header>

    <main class="app__main pagina-orientacion" role="main">
        <!-- filtros -->
        <section class="filtros">
            <div class="fila-filtros">
                <input id="f-matricula" class="input-filtro" type="text" placeholder="matrícula" />
                <input id="f-nombre" class="input-filtro input-grande" type="text" placeholder="nombre" />
            </div>

            <div class="fila-selects">
                <select id="f-grado" class="select-filtro">
                    <option value="">grado</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                </select>

                <select id="f-grupo" class="select-filtro">
                    <option value="">grupo</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                </select>
            </div>
        </section>

        <!-- lista de alumnos (tarjetas) -->
        <section id="lista-alumnos" class="lista-orientacion" aria-live="polite">
            <!-- ejemplos: cada tarjeta tiene data-atributos para filtrar -->
            <article class="tarjeta-alumno adeuda-alta" data-matricula="2021001" data-nombre="Ana Pérez" data-grado="3" data-grupo="A" data-horas="16" tabindex="0">
                <div class="contenido-tarjeta">
                    <div class="nombre">Ana Pérez</div>
                    <div class="meta">Matrícula: 2021001</div>
                    <div class="meta">Grado 3 · Grupo A</div>
                </div>
                <div class="badge">16h</div>
            </article>

            <article class="tarjeta-alumno adeuda-media" data-matricula="2021023" data-nombre="Luis Gómez" data-grado="2" data-grupo="B" data-horas="8" tabindex="0">
                <div class="contenido-tarjeta">
                    <div class="nombre">Luis Gómez</div>
                    <div class="meta">Matrícula: 2021023</div>
                    <div class="meta">Grado 2 · Grupo B</div>
                </div>
                <div class="badge">8h</div>
            </article>

            <article class="tarjeta-alumno adeuda-baja" data-matricula="2021056" data-nombre="María Ruiz" data-grado="1" data-grupo="C" data-horas="2" tabindex="0">
                <div class="contenido-tarjeta">
                    <div class="nombre">María Ruiz</div>
                    <div class="meta">Matrícula: 2021056</div>
                    <div class="meta">Grado 1 · Grupo C</div>
                </div>
                <div class="badge">2h</div>
            </article>
        </section>

        <!-- acciones finales (no fijas) -->
        <div class="acciones-final">
            <button class="btn boton-salir" type="button">salir</button>
            <button class="btn boton-acciones" type="button" id="btn-exportar">Exportar</button>
        </div>
    </main>

    <!-- JS: filtros simples -->
    <script>
        (function () {
            const inputMat = document.getElementById('f-matricula');
            const inputNom = document.getElementById('f-nombre');
            const selGrado = document.getElementById('f-grado');
            const selGrupo = document.getElementById('f-grupo');
            const lista = document.getElementById('lista-alumnos');

            function filtrar() {
                const m = inputMat.value.trim().toLowerCase();
                const n = inputNom.value.trim().toLowerCase();
                const g = selGrado.value;
                const gr = selGrupo.value;

                Array.from(lista.children).forEach(card => {
                    const nombre = card.getAttribute('data-nombre').toLowerCase();
                    const matricula = card.getAttribute('data-matricula').toLowerCase();
                    const grado = card.getAttribute('data-grado');
                    const grupo = card.getAttribute('data-grupo');

                    const matchMat = !m || matricula.includes(m);
                    const matchNom = !n || nombre.includes(n);
                    const matchGrado = !g || grado === g;
                    const matchGrupo = !gr || grupo === gr;

                    card.style.display = (matchMat && matchNom && matchGrado && matchGrupo) ? '' : 'none';
                });
            }

            [inputMat, inputNom, selGrado, selGrupo].forEach(el => {
                el.addEventListener('input', filtrar);
                el.addEventListener('change', filtrar);
            });
        })();
    </script>
</body>

</html>